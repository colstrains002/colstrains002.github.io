---
title: GitHub Pages（Astro）をテンプレから自分用にする
pubDate: 2026-01-03
draft: false
---
GitHub Pages（Astro）のブログを、テンプレ状態のまま放置していたのがずっと気になっていて、年始のタイミングで「自分用に最低限まともにする」と決めて触り始めた。最終的には、記事を書く作業も含めて、なるべくブラウザ内で完結できる運用に寄せたい。いまはその手前の「土台づくり」をひたすらやっていた感じです。

やりたいことは最初から割と明確で、テンプレのサンプル記事を消して、トップページとAboutを自分の内容に差し替えて、下書き（draft）の扱いだけは崩さない、というもの。draftは「直リンクなら見えていいけど、一覧（/ と /blog）とRSSには出さない」を維持したい。ここが崩れると、いちばん困るので。

まずやったのはテンプレ記事の掃除。src/content/blog/ に first-post とか second-post とか markdown-style-guide とか using-mdx とか、テンプレのにぎやかしが残っていたので、不要なものは git rm で削除した。残すものは自分の記事と下書きだけ。ここが片付くと、ようやく「自分の場所」になってきた感じがする。

次に、draft運用の実装が本当に意図どおりになっているかを確認した。すでに schema に draft を足してある状態で、一覧とRSSは getCollection("blog", ({ data }) => !data.draft) で除外している。ここまでは良い。ただ、記事詳細側で draft を弾いていたら直リンク表示ができないので、src/pages/blog/\[...slug\].astro を見て確認したら getCollection('blog') のまま、特に draft で404にする分岐も無い。つまり「一覧とRSSでは隠す、直リンクはOK」が成立している。これはちゃんと守れていて助かった。

そのうえで、トップページとAboutページを自分用に差し替えた。トップは短い紹介文と最新記事数件、ブログ一覧へのリンク、という最小構成にして、当然ここでも draft は除外。Aboutはテンプレ文言を全部捨てて、必要最小限のプロフィールとリンクだけにした。見た目の凝り方は後回しで、まずは変なテンプレ文が残っていない状態にするのが目的だったので、これで十分です。

サイトタイトルの「dai era」も地味に気になっていたので、これは src/consts.ts の SITE\_TITLE を Colstrains に変更して一気に解決。HeaderやBaseHead、RSSが SITE\_TITLE を参照している構造になっていたので、ここを直すだけで全体が揃う。SITE\_DESCRIPTION も短くて使いやすい文に整えて、タブやOGP、RSSに出ても違和感がないようにした。日本語＋英語を1本にする案もあったけど、長く見えることがあるので、その辺は実際の表示を見て判断しつつ。

ここまで順調だった、と思いきや、npm run build と git が突然コケた瞬間があって、package.json が無いとか git repo じゃないとか言われた。原因は単純で、作業ディレクトリが C:\\Users\\colst になっていた。cd /c/GodotProjects/[colstrains002.github.io](http://colstrains002.github.io) を忘れるとこうなる。こういうの、焦るけど、エラーメッセージは割と正直だ。作業場所が違うだけ。

その後、テンプレの残骸でいちばん目につく「右上のSNSアイコン3つ」と、フッターの「© 2026 Your name here. All rights reserved.」を直した。リンクが Astro公式（Mastodon/Twitter/GitHub）になっていたので、自分のものに差し替える。最初は Pixiv / X / note にしようとしたが、Pixivの公式SVGが白と青しかなくて、白背景に白アイコンは当然見えないし、青にすると他と色がずれる。悩んだ末、Pixiv枠はInstagramに切り替えることにした。リンクを揃えるのが第一で、見た目の完璧さは後で詰めればいい。

この時点で、テンプレのどこかにSNSアイコン素材がまとまって入っているのでは、と疑った。viewBox="0 0 16 16" があるし、astro-icon="social/..." みたいな属性も残っていたから。でも find しても public/favicon.svg しか出ないし、astro-icon の参照も Footer.astro に残っているだけだった。つまり、素材が同梱されているのではなく、Header/Footer にインラインで埋め込まれているだけ。これで方針が決まって、public/social にSVGを置いて <img> で参照する形に統一した。こうしておけば、HeaderとFooterの両方で同じアイコンを使えるし、差し替えも一か所で済む。

結果として、ヘッダーとフッターのSNSは Instagram / X / note に統一できた。リンクも表示も確認できたので、最低限の「テンプレ状態から脱出」は達成。やっとスタート地点に立った感じがする。

本題として、次は「ブログ記事を書くとき、ブラウザ内で完結したい」をちゃんと形にしたい。普段は [github.dev](http://github.dev)（.キーで開くやつ）で記事を書いてコミットして、Actionsで公開、で回せそうだし、必要なときだけ Codespaces を使えば build や dev の確認もブラウザで完結できる。どこまでを日常運用にするか、最小のテンプレ（frontmatter）と手順を固定したい。

今日はここまで。余力のあるときに、ブラウザ完結の「記事作成テンプレ」と「公開切替（draft true→false）」の型を決めて、次の記事を実際にその手順で出してみる。